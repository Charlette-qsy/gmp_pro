# Template Specification

This file specified the template for GMP Header Generator.

## Main Structure

This structure requires a particularly fixed parameter sequence.

- `template_versition`:

    The version number of current template.
    
    It should be a **string** type.

    **NO** linefeed should be contained.

- `file_name`:

    Name of current template. 

    It should be a **string** type.

    **NO** linefeed should be contained.

- `file_type`:

    Suffix of generated file.

    It should be a **string** type. Generally `"h"` or `"hpp"`.

    **NO** linefeed should be contained.

- `file_header`:

    The content of this parameter will be displayed on the very top of generated c/c++ header file.

    It should be a **string** type.

    **NO** linefeed should be contained.

- `comment`:

    Comment of this template which will be displayed at the beginning part of generated file.

    It should be a **string** type.

    Linefeed **COULD** be contained.

- `general_define`:

    General define for generated header file, always used to avoid multiple inclusion.

    Details of the parameters below are explained in the following part.

  - `content`:

    Definition name.
  
    It should be a **string** type.

  - `tpye`:

    It MUST BE `"None"`.

  - `redef_check`:

    `0` or `1`, but `1` is recommended.

  - `comment`:

    Comment of this definition.

    It should be a **string** type.

- `defines`:

    A list of definitions.

    Details are shown in the next part.

## Definition Specification

### Types of Definition

- `None`:

    Define a single word `[def]`.

```c
#define [def]
```

- `type_in`

    Define a user-type-in value `[value]` to a name `[name]`.

```c
#define [name] [value]
```

- `check`

    Let user determine this definition exist `[exsit def]` or not `[non-exsit def]`.

```c
// In this example, [exsit def] is checked but [non-exsit def] is not checked.
#define [exsit def]
// #define [non-exsit def]
```

- `radio`

    Let user select one definition `[selection_x]` from several options.

```c
// In this example, selection_1 is selected.
// #define SELECTION_0
#define SELECTION_1
// define SELECTION_2
// define SELECTION_3
```

- `drop_down`

    Let user select one value `[opt]` from a drop-down list for a single definition `[def]`.

```c
#define [def] [opt]
```

- `group`

    A group (list) of definitions. All types of definition could be contained, including subgroup.

### Parameters of Each Definition

- `content`:

    Name of this definition.

    It should be a **string** type.

- `type`:

    Type of this definition.

    It should be a **string** type.

- `redef_check`:

    Redefine check of this definition.

    It should be `0` for disable or `1` for enable.

    While redefine check is enabled, `#ifndef [def]` and `#endif` will be placed at the previous and the next line of definition, respectively.

- `comment`:

    Comment of this definition.

    It should be a **string** type.

- `default`:

    Default value of definition.

    It should be `0` or `1` for `check` type and a **string** for other type.

- `enable`:

    Whether this definition can be modified by user.

     It should be `0` for disable or `1` for enable.

- `members`:

    Members of a `group` or `radio`

    It's actually a list of definitions.

- `options`:

    Options of a `drop_down`.

    It should be a **list** of **string**.

### Parameters of Different Definitions

|     Type      | `None`  | `type_in` | `check` | `radio` | member of `radio` | `drop_down` | `group` |
|:-------------:|:-------:|:---------:|:-------:|:-------:|:-----------------:|:-----------:|:-------:|
|   `content`   | &check; |  &check;  | &check; | &check; |      &check;      |   &check;   | &check; |
|    `type`     | &check; |  &check;  | &check; | &check; |                   |   &check;   | &check; |
| `redef_check` | &check; |  &check;  | &check; | &check; |      &check;      |   &check;   | &check; |
|   `comment`   | &check; |  &check;  | &check; | &check; |      &check;      |   &check;   | &check; |
|   `default`   |         |  &check;  | &check; | &check; |                   |   &check;   |         |
|   `enable`    |         |  &check;  | &check; | &check; |                   |   &check;   |         |
|   `members`   |         |           |         | &check; |                   |             | &check; |
|   `options`   |         |           |         |         |                   |   &check;   |         |

## An Example of Template
```json
{
    "template_version" : "202412301911",
    "file_name" : "user_config_test",
    "file_type" : "h",
    "file_header" : "This file is generated by GMP_HeaderGenerator",
    "comment" : "comment here\r\nDLNB",
    "general_define" : {
        "content" : "GENERAL_MOTOR_PLAT",
        "type" : "None",
        "redef_check" : 1,
        "comment" : "GMP library version definition"
    },

    "defines" : [
        {
            "content" : "GMP_SERIAL_NUM",
            "type" : "type_in",
            "redef_check" : 0,
            "comment" : "Library Serial numbers\r\ndlnb666",
            "default" : "00006ul",
            "enable" : 0
        },
        {
            "content" : "TYPE_IN_A_NUMBER",
            "type" : "type_in",
            "redef_check" : 0,
            "comment" : "You can type in a string here",
            "default" : "666",
            "enable" : 1
        },
        {
            "content" : "A_CHECK_BOX",
            "type" : "check",
            "redef_check" : 0,
            "comment" : "",
            "default" : 1,
            "enable" : 0
        },
        {
            "content" : "ANOTHER_CHECK_BOX",
            "type" : "check",
            "redef_check" : 0,
            "comment" : "You can check this box",
            "default" : 0,
            "enable" : 1
        },
        {
            "content" : "RATIO_SELECT",
            "type" : "radio",
            "redef_check" : 0,
            "comment" : "You can choose one from the following",
            "default" : "SELECTION_1",
            "enable" : 1,
            "members" : [
                {
                    "content" : "SELECTION_0",
                    "redef_check" : 0,
                    "comment" : "selection 0"
                },
                {
                    "content" : "SELECTION_1",
                    "redef_check" : 0,
                    "comment" : "selection 1"
                },
                {
                    "content" : "SELECTION_2",
                    "redef_check" : 0,
                    "comment" : "selection 2"
                }
            ]
        },
        {
            "content" : "GROUP",
            "type" : "group",
            "redef_check" : 0,
            "comment" : "this is a group",
            "members" : [
                {
                    "content" : "GMP_AUTO",
                    "type" : "None",
                    "redef_check" : 0,
                    "comment" : "GMP_AUTO"
                },
                {
                    "content" : "GMP_AUTO_STM32",
                    "type" : "type_in",
                    "redef_check" : 0,
                    "comment" : "stm32",
                    "default" : "1",
                    "enable" : 1
                },
                {
                    "content" : "GMP_AUTO_TIC2000",
                    "type" : "type_in",
                    "redef_check" : 0,
                    "comment" : "c2000",
                    "default" : "2",
                    "enable" : 0
                },
                {
                    "content" : "GMP_AUTO_WINDOWS",
                    "type" : "type_in",
                    "redef_check" : 0,
                    "comment" : "windows",
                    "default" : "3",
                    "enable" : 0
                },
                {
                    "content" : "GMP_AUTO_LINUX",
                    "type" : "type_in",
                    "redef_check" : 0,
                    "comment" : "linux",
                    "default" : "4",
                    "enable" : 0
                },
                {
                    "content" : "GMP_AUTO_WINDOWS_MATLAB",
                    "type" : "type_in",
                    "redef_check" : 0,
                    "comment" : "matlab on windows",
                    "default" : "5",
                    "enable" : 0
                }
            ]
        },
        {
            "content" : "MASTER_CHIP_SET",
            "type" : "drop_down",
            "redef_check" : 0,
            "comment" : "GMP Master chip set select",
            "default" : "C",
            "options" : [
                "A",
                "B",
                "C",
                "\\__"
            ],
            "enable" : 1
        }
    ]
}
```